@require 'settings/breakpoints.styl'
@require 'settings/palette.styl'

sundown = #ffb3b3

.app-list-wrapper
    margin-top rem(32)
    border-radius rem(8)
    background-color rgba(255, 255, 255, .85)
    padding rem(16 24)

    @media (max-width: 60rem)
        margin-top 0
        border-radius 0

    @media (max-width: rem(466))
        padding rem(16)

.services-list-wrapper
    margin-top rem(24)
    padding rem(16 24)

    @media (max-width: rem(466))
        margin-top rem(16)
        padding rem(16)

.services-list-wrapper--empty
    background-color var(--white)
    border-radius 8px

    @media (max-width: 60rem)
        margin rem(24) rem(24) 0

    @media (max-width: rem(466))
        margin rem(16) rem(16) 0

.item-wrapper--ghost
    width 7.125rem
    height 0
    flex-shrink 0

    @media (max-width: rem(466))
        width rem(72)

.item-wrapper
    position relative
    box-sizing border-box
    width 7.125rem
    height 7.125rem
    display flex
    flex-direction column
    justify-content center
    align-items center
    flex-shrink 0
    cursor pointer
    text-decoration none
    text-align center
    transition .3s ease all

    @media (max-width: rem(466))
        width rem(72)
        height rem(72)


.item-icon
    position relative
    width 4rem
    height 4rem

    @media (max-width: rem(466))
        width rem(40)
        height rem(40)

.list
    display flex
    flex-direction row
    justify-content space-between
    flex-wrap wrap

.app-list
    .item-wrapper
        border-radius rem(4)
        &:hover
        &:focus
            background-color var(--white)
            box-shadow 0 rem(3) rem(8) 0 rgba(50, 54, 63, .15)
            transition .3s ease all

.connector-list
    .item-icon
        box-sizing border-box
        background-color var(--white)
        border-radius rem(4)
        padding  rem(12)
        transition .3s ease all
        display flex
        align-items center
        @media (max-width: rem(466))
            padding rem(8)

        img
            height auto
            width 100%

        &.konnector-error--major-breaking
            color sundown
            border rem(2) solid sundown
            background-color var(--chablis)
        &.konnector-error--with-badge::before
            content ''
            position absolute
            top 0
            right 0
            width rem(16)
            height rem(16)
            background-color var(--pomegranate)
            border-radius 50%
            transform translateX(50%) translateY(-50%)

        &.konnector-error--minor-breaking
            color var(--silver)
            border rem(2) solid var(--silver)

    .konnector-error--minor-breaking .konnector-state,
    .konnector-error--major-breaking .konnector-state
        display block

    .konnector-state
        display none
        position absolute
        top 0
        left 0
        width 100%
        height 100%

    .item-wrapper
        &:hover
        &:focus
            .item-icon
                box-shadow 0 rem(3) rem(8) 0 rgba(50, 54, 63, .15)
                transform  scale(1.2)
                transition .3s ease all

    .--add-service
        display flex
        flex-direction column
        justify-content center

        &:hover
        &:focus
            .item-icon
                box-shadow none

        .item-icon
            box-sizing border-box
            display flex
            justify-content center
            align-items center
            padding rem(4)
            background-color transparent
            color var(--coolGrey)
            svg
                width rem(56)
                height rem(56)

            @media (max-width: rem(466))
                padding rem(2)

                svg
                    width rem(36)
                    height rem(36)

        .item-title
            text-transform uppercase

        &[aria-busy]
            opacity .8

            &:hover
                transform  none

.item-title
    width 80%
    margin rem(5) auto 0
    color var(--black)
    font-size .875rem
    line-height 1.5
    font-weight 700
    white-space nowrap
    overflow hidden
    text-overflow ellipsis

    @media (max-width: rem(466))

        font-size rem(10)
        line-height 1.8

// Custom background override
.has-custom-background
    .connector-list
        .item-title
            color var(--white)
            text-shadow 0 0 rem(4) var(--charcoalGrey)
        .--add-service
            .item-icon
                color var(--white)
                svg
                    filter: drop-shadow(0 0 rem(2) var(--charcoalGrey))
