@require 'settings/breakpoints.styl'
@require 'settings/palette.styl'

appTileSize = 6rem
serviceTileSize = 5rem
mobileTileSize = 4rem

.app-list
    position relative
    margin-top -(appTileSize / 2)
    display grid
    grid-template-columns repeat(auto-fit, appTileSize)
    grid-auto-rows appTileSize
    grid-gap rem(8)
    justify-content center

    +tiny-screen()
        margin-top -(mobileTileSize / 2)
        grid-template-columns repeat(auto-fit, mobileTileSize)
        grid-auto-rows mobileTileSize
        grid-gap rem(4)

    .item-wrapper
        background-color var(--white)
        box-shadow 0 4px 12px 0 rgba(0, 0, 0, .08)
        border solid 1px rgba(0, 0, 0, .08)
        padding 20px 4px 12px
        transition .2s ease all

        &:active
        &:focus
            background-color var(--paleGrey)
            box-shadow 0 4px 12px 0 rgba(0, 0, 0, .08), 0 4px 24px 0 rgba(50, 54, 63, .08)

        &:hover
            transform scale(1.1)
            transition .2s ease all
            box-shadow 0 4px 12px 0 rgba(0, 0, 0, .08), 0 4px 24px 0 rgba(50, 54, 63, .08)

        @media (pointer coarse)
            &:hover
                transform none

        +tiny-screen()
            padding 10px 4px 6px

    .item-icon
            width rem(40)
            height rem(40)

            +tiny-screen()
                width rem(32)
                height rem(32)


.services-list
    width 100%
    max-width 'calc(%s * 7 + 16px * 6)' % serviceTileSize // 7 columns + 6 column gaps@
    margin auto
    margin-top rem(48)
    display grid
    grid-template-columns repeat(auto-fit, serviceTileSize)
    grid-auto-rows serviceTileSize
    grid-gap rem(16)
    justify-content center

    +tiny-screen()
        margin-top rem(24)
        grid-template-columns repeat(auto-fit, mobileTileSize)
        grid-auto-rows mobileTileSize
        grid-gap rem(2)

    .item-wrapper
        padding 12px 8px
        border-radius 8px
        border-width 1px
        border-style solid
        border-color transparent

        &:hover
            box-shadow 0 4px 12px 0 rgba(0, 0, 0, .08)
            border-color rgba(0, 0, 0, .08)
            background-color var(--white)
            transform scale(1.1)

        &:active
        &:focus
            background-color var(--paleGrey)
            border-color rgba(0, 0, 0, .08)

        @media (pointer coarse)
            &:hover
                transform none

        +tiny-screen()
                padding 12px 4px

        &.--maintenance .item-icon
                filter grayscale(1)
                opacity .64

        &.--ghost
                background var(--zircon)
                border dashed 1px var(--frenchPass)

                .item-icon
                    filter sepia(1) hue-rotate(-180deg)

    .item-icon
        width rem(32)
        height rem(32)
        position relative

    .item-status
        position absolute
        bottom -6px
        right -6px
        border 2px solid var(--white)
        border-radius 50%
        background var(--white)

        .item-wrapper.--add-service
            .item-icon
                box-sizing border-box
                display flex
                justify-content center
                align-items center
                background var(--zircon)
                border dashed 1px var(--frenchPass)
                border-radius 4px

            &[aria-busy]
                opacity .8

            &[aria-busy]:hover
                transform none

.item-wrapper
    box-sizing border-box
    border-radius rem(8)
    width 100%
    height 100%
    display flex
    flex-direction column
    justify-content center
    align-items center
    flex-shrink 0
    cursor pointer
    text-decoration none
    text-align center
    transition .3s ease all

.item-icon
        margin-bottom rem(8)

        +tiny-screen()
            margin-bottom rem(4)

.item-title
        width 80%
        margin 0
        color var(--charcoalGrey)
        font-size .875rem
        font-weight normal
        line-height 1
        white-space nowrap
        overflow hidden
        text-overflow ellipsis

        +tiny-screen()
            font-size .625rem
            line-height 1.2
